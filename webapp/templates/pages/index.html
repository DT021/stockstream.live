$def with (model)

$ referral = robinhood.referral.get_referral()

<!DOCTYPE html>
<html lang="en">

<head>
$:render.elements.header()

<style>
    .follow {
        overflow: hidden;
        height: 90px;
        margin: 10px;
        border-style: none;
        margin-left: 0;
        margin-bottom: 10px;
        transition: all .05s ease;
        display: flex;
        align-items: center;
    }

    .side_link {
        display: inline-block;
        align-items: center;
        height: 90px;
    }

    .follow:hover {
        transform: scale(1.2);
    }

    .social_media_container {
        margin-left: 0;
    }

    .social_media {
        overflow: hidden;
        height: 45px;
        border-style: none;
        margin-top: 40px;
        margin-bottom: 10px;
        transition: all .05s ease;
    }

    .social_media:hover {
        transform: scale(1.2);
    }

    #twitchlogo {
        filter: drop-shadow(0px 0px 15px #6441A4);
    }

    #twitchlogo:hover {
        filter: drop-shadow(0px 0px 25px #6441A4);
    }

    #robinhoodlogo {
        filter: drop-shadow(0px 0px 15px gold);
    }

    #robinhoodlogo:hover {
        filter: drop-shadow(0px 0px 25px gold);
    }

    #stocktwitslogo {
        filter: drop-shadow(0px 0px 15px #3f5770);
    }

    #stocktwitslogo:hover {
        filter: drop-shadow(0px 0px 25px #3f5770);
    }

    #twitterlogo {
        filter: drop-shadow(0px 0px 15px #1da1f2);
    }

    #twitterlogo:hover {
        filter: drop-shadow(0px 0px 25px #1da1f2);
    }

    #discordlogo {
        filter: drop-shadow(0px 0px 15px #7289da);
    }

    #discordlogo:hover {
        filter: drop-shadow(0px 0px 25px #7289da);
    }

    .cheddar {
        color: #ff0ba8;
    }

    .gamebox {
        margin-top: 80px;
        margin-bottom: 60px;
        white-space: nowrap;
        display: inline-flex;
    }

    .chat {
        box-shadow: 0px 0px 100px #ff0ba8;
        display: inline-flex;
        margin: 0px;
        margin-left: 20px;
        padding: 0px;
    }

    .player {
        box-shadow: 0px 0px 100px #ff0ba8;
        display: inline-flex;
        margin-right: 10px;
        padding: 0px;
    }

    #portfoliologo {
        filter: drop-shadow(0px 0px 15px #00d097);
    }

    #portfoliologo:hover {
        filter: drop-shadow(0px 0px 25px #00d097);
    }

    #scoreslogo {
        filter: drop-shadow(0px 0px 15px yellow);
    }

    #scoreslogo:hover {
        filter: drop-shadow(0px 0px 25px yellow);
    }

    #chartslogo {
        filter: drop-shadow(0px 0px 15px red);
    }

    #chartslogo:hover {
        filter: drop-shadow(0px 0px 25px red);
    }

    #helplogo {
        filter: drop-shadow(0px 0px 15px purple);
    }

    #helplogo:hover {
        filter: drop-shadow(0px 0px 25px purple);
    }

    #dashboardlogo {
        filter: drop-shadow(0px 0px 15px cyan);
    }

    #dashboardlogo:hover {
        filter: drop-shadow(0px 0px 25px cyan);
    }

    #heading {
        margin-top: 40px;
    }
</style>

</head>

<body>

$:render.elements.navbar()

<center>

    <br>
    <hr>
    <h2>World's First Multiplayer Stock Market Game Using Real Money</h2>
    <hr>

    <div class="gamebox">
        <iframe class="player"
                src="https://player.twitch.tv/?channel=stockstream"
                frameborder="0"
                allowfullscreen="true"
                scrolling="no"
                height="509"
                width="900">
        </iframe>

        <iframe frameborder="0"
                scrolling="no"
                class="chat"
                id="chat_embed"
                src="https://www.twitch.tv/stockstream/chat?darkpopout"
                height="509"
                width="350">
        </iframe>

    </div>

    <div>

        <a href="$:referral" class="side_link"><img id="robinhoodlogo" class="follow" src="/static/plaque-robinhood.png"/></a>

        <br>
        <br>
        <br>

        <a href="/portfolio" class="side_link"><img id="portfoliologo" class="follow" src="/static/plaque-portfolio.png"/></a>
        <a href="/dashboard" class="side_link"><img id="dashboardlogo" class="follow" src="/static/plaque-dashboard.png"/></a>
        <a href="/charts" class="side_link"><img id="chartslogo" class="follow" src="/static/plaque-charts.png"/></a>

        <br>
        <br>
        <br>
        <br>

        <div class="social_media_container">
            <a target="_blank" href="https://twitch.tv/stockstream"><img id="twitchlogo" class="social_media" src="/static/twitch-logo.png"/></a>
            <a target="_blank" href="https://twitter.com/stockstream"><img id="twitterlogo" class="social_media" src="/static/twtr-logo.png"/></a>
            <a target="_blank" href="https://stocktwits.com/stockstream"><img id="stocktwitslogo" class="social_media" src="/static/stocktwits-logo.png"/></a>
            <a target="_blank" href="https://discord.gg/xnrKgEj"><img id="discordlogo" class="social_media" src="/static/discord-logo.png"/></a>
        </div>

        <br>

        <a href="/info/help" class="side_link"><img id="helplogo" class="follow" src="/static/plaque-help.png"/></a>


    </div>

    <br>
    $:render.elements.order_stats(model)
    <hr>
    <br>

    <h2>Portfolio Value Over Time</h2>

    <br>

    <div style="width:85%;">
        $:render.elements.portfolio_graph(model['portfolio_values'])
    </div>

    <hr>

    <h2>Top Players</h2>
    <br>

    <div style="width:85%;">
        $:render.elements.top_players(model['top_players_list'])
    </div>

    $:render.elements.footer()

</center>

</body>
</html>
